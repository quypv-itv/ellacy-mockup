<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campaigns - APPLYLEAD</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .brand-red {
            background-color: #d82128;
        }

        .brand-red-light {
            background-color: #FEF2F2;
        }

        .text-brand-red {
            color: #d82128;
        }

        .border-brand-red {
            border-color: #d82128;
        }

        .hover\:bg-brand-red:hover {
            background-color: #d82128;
        }
    </style>
</head>

<body style="background-color: #F9F9F9;">
    <!-- Sidebar -->
    <aside class="fixed left-0 top-0 h-screen w-64 bg-white shadow-lg">
        <div class="p-6">
            <img src="../../ApplyLead_logo.png" alt="ApplyLead" class="h-9 mb-2">
            <span class="text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full">Agent</span>
        </div>
        <nav class="mt">
            <a href="Agency-dashboard.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50">
                <i data-lucide="layout-dashboard" class="w-5 h-5 mr-3"></i>
                Dashboard
            </a>
            <a href="Agency-my-students.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50">
                <i data-lucide="users" class="w-5 h-5 mr-3"></i>
                My Students
            </a>
            <a href="Agent-Application.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50">
                <i data-lucide="file-text" class="w-5 h-5 mr-3"></i>
                Applications
            </a>
            <a href="Agency-tasks.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50">
                <i data-lucide="check-square" class="w-5 h-5 mr-3"></i>
                Tasks
            </a>
            <a href="Agency-scholarships.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50">
                <i data-lucide="graduation-cap" class="w-5 h-5 mr-3"></i>
                University
            </a>
            <a href="Agency-commission.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50">
                <i data-lucide="dollar-sign" class="w-5 h-5 mr-3"></i>
                Commissions
            </a>
            <a href="Agency-profile.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50">
                <i data-lucide="settings" class="w-5 h-5 mr-3"></i>
                Account Settings
            </a>
            <a href="#" class="flex items-center px-6 py-3 text-white" style="background-color: #d82128;">
                <i data-lucide="brick-wall-shield" class="w-5 h-5 mr-3"></i>
                Campaigns
            </a>
            <a href="Agency-messages.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50">
                <i data-lucide="message-circle" class="w-5 h-5 mr-3"></i>
                Messages
            </a>
            <a href="Agency-admin-management.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50">
                <i data-lucide="users-2" class="w-5 h-5 mr-3"></i>
                Team Management
            </a>
        </nav>
        <div class="mt-auto px-6 py-4 border-t border-gray-200">
            <p class="text-sm text-gray-600 text-center"> 2025 APPLYLEAD. All rights reserved.</p>
        </div>
    </aside>
    <!-- Main Content -->
    <div class="flex-1 ml-64 overflow-hidden">
        <!-- Header -->
        <header class="bg-white shadow-sm border-b border-gray-200 px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <h2 class="text-xl font-semibold text-gray-800">Campaigns</h2>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Notification Dropdown -->
                    <div class="relative">
                        <button id="notification-menu"
                            class="relative hover:bg-gray-100 p-2 rounded-full transition-colors">
                            <i data-lucide="bell" class="w-6 h-6 text-gray-600"></i>
                            <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                        </button>

                        <!-- Notification Dropdown Menu -->
                        <div id="notification-dropdown"
                            class="hidden absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50">
                            <!-- Header -->
                            <div class="p-4 border-b border-gray-200">
                                <div class="flex items-center justify-between">
                                    <h3 class="font-semibold text-gray-900">Notifications</h3>
                                    <span class="text-xs text-white px-2 py-1 rounded-full"
                                        style="background-color: #d82128;">5</span>
                                </div>
                            </div>

                            <!-- Notification Items -->
                            <div class="max-h-96 overflow-y-auto">
                                <!-- New Tasks Section -->
                                <div class="p-3 border-b border-gray-100">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-8 h-8 rounded-full flex items-center justify-center"
                                            style="background-color: #FEF2F2;">
                                            <i data-lucide="clipboard-list" class="w-4 h-4" style="color: #d82128;"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center justify-between">
                                                <p class="text-sm font-medium text-gray-900">New Tasks Assigned</p>
                                                <span class="text-xs text-gray-500">2 min ago</span>
                                            </div>
                                            <p class="text-xs text-gray-600 mt-1">3 new tasks have been assigned to your
                                                team</p>
                                            <div class="mt-2">
                                                <button class="text-xs px-2 py-1 rounded"
                                                    style="background-color: #FEF2F2; color: #d82128;">View
                                                    Tasks</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- New Students Section -->
                                <div class="p-3 border-b border-gray-100">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-8 h-8 rounded-full flex items-center justify-center"
                                            style="background-color: #FEF2F2;">
                                            <i data-lucide="user-plus" class="w-4 h-4" style="color: #d82128;"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center justify-between">
                                                <p class="text-sm font-medium text-gray-900">New Students Sign Up</p>
                                                <span class="text-xs text-gray-500">15 min ago</span>
                                            </div>
                                            <p class="text-xs text-gray-600 mt-1">Sarah Johnson and 2 others have
                                                registered</p>
                                            <div class="mt-2">
                                                <button class="text-xs px-2 py-1 rounded"
                                                    style="background-color: #FEF2F2; color: #d82128;">View
                                                    Students</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Events Section -->
                                <div class="p-3 border-b border-gray-100">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-8 h-8 rounded-full flex items-center justify-center"
                                            style="background-color: #FEF2F2;">
                                            <i data-lucide="calendar" class="w-4 h-4" style="color: #d82128;"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center justify-between">
                                                <p class="text-sm font-medium text-gray-900">Upcoming Events</p>
                                                <span class="text-xs text-gray-500">1 hour ago</span>
                                            </div>
                                            <p class="text-xs text-gray-600 mt-1">University Fair - Tomorrow at 2:00 PM
                                            </p>
                                            <p class="text-xs text-gray-500 mt-1"> Convention Center, Hall A</p>
                                            <div class="mt-2 flex space-x-2">
                                                <button
                                                    onclick="addToGoogleCalendar('University Fair', '2025-01-11T14:00:00', '2025-01-11T17:00:00', 'Annual University Fair with international institutions', 'Convention Center, Hall A')"
                                                    class="text-xs px-2 py-1 rounded hover:opacity-80"
                                                    style="background-color: #FEF2F2; color: #d82128;">
                                                    <i data-lucide="calendar-plus" class="w-3 h-3 inline mr-1"></i>Add
                                                    to Calendar
                                                </button>
                                                <button onclick="viewInGoogleCalendar()"
                                                    class="text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded hover:bg-gray-200">
                                                    <i data-lucide="external-link" class="w-3 h-3 inline mr-1"></i>View
                                                    Calendar
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Application Deadline -->
                                <div class="p-3 border-b border-gray-100">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-8 h-8 rounded-full flex items-center justify-center"
                                            style="background-color: #FEF2F2;">
                                            <i data-lucide="clock" class="w-4 h-4" style="color: #d82128;"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center justify-between">
                                                <p class="text-sm font-medium text-gray-900">Application Deadline</p>
                                                <span class="text-xs text-gray-500">3 hours ago</span>
                                            </div>
                                            <p class="text-xs text-gray-600 mt-1">Mike Wong's application deadline is in
                                                2 days</p>
                                            <p class="text-xs text-gray-500 mt-1"> University of Toronto - MBA Program
                                            </p>
                                            <div class="mt-2 flex space-x-2">
                                                <button
                                                    onclick="addToGoogleCalendar('Application Deadline - Mike Wong', '2025-01-12T23:59:00', '2025-01-12T23:59:00', 'Follow up on Mike Wong application deadline for University of Toronto MBA Program', 'Online')"
                                                    class="text-xs px-2 py-1 rounded hover:opacity-80"
                                                    style="background-color: #FEF2F2; color: #d82128;">
                                                    <i data-lucide="calendar-plus" class="w-3 h-3 inline mr-1"></i>Add
                                                    Reminder
                                                </button>
                                                <button
                                                    class="text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded hover:bg-gray-200">
                                                    Follow Up
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Commission Update -->
                                <div class="p-3">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-8 h-8 rounded-full flex items-center justify-center"
                                            style="background-color: #FEF2F2;">
                                            <i data-lucide="dollar-sign" class="w-4 h-4" style="color: #d82128;"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center justify-between">
                                                <p class="text-sm font-medium text-gray-900">Commission Payment</p>
                                                <span class="text-xs text-gray-500">1 day ago</span>
                                            </div>
                                            <p class="text-xs text-gray-600 mt-1">$2,500 commission has been approved
                                            </p>
                                            <div class="mt-2">
                                                <button class="text-xs px-2 py-1 rounded"
                                                    style="background-color: #FEF2F2; color: #d82128;">View
                                                    Details</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Footer -->
                            <div class="p-3 border-t border-gray-200">
                                <button class="w-full text-center text-sm font-medium hover:opacity-80"
                                    style="color: #d82128;">
                                    View All Notifications
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- Profile Dropdown -->
                    <div class="relative">
                        <button id="profile-menu"
                            class="flex items-center space-x-2 p-2 hover:bg-gray-100 rounded-full">
                            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=100&h=100&fit=crop"
                                alt="Profile" class="w-8 h-8 rounded-full object-cover">
                        </button>

                        <!-- Dropdown Menu -->
                        <div id="profile-dropdown"
                            class="hidden absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg py-1 z-50">
                            <a href="Agency-profile.html"
                                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <i data-lucide="settings" class="w-4 h-4 inline-block mr-2"></i> Settings
                            </a>
                            <a href="#" onclick="handleLogout()"
                                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <i data-lucide="log-out" class="w-4 h-4 inline-block mr-2"></i> Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="flex-1 overflow-y-auto p-6">
            <!-- Filter Drawer Backdrop -->
            <div id="filter-backdrop"
                class="fixed inset-0 bg-black bg-opacity-50 z-40 opacity-0 pointer-events-none transition-opacity duration-300">
            </div>

            <!-- Filter Drawer -->
            <div id="filter-drawer"
                class="fixed top-0 right-0 h-full w-96 bg-white shadow-xl transform translate-x-full transition-transform duration-300 ease-in-out z-50 overflow-y-auto">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-medium text-gray-900">Filters</h3>
                        <button id="close-filter" class="text-gray-400 hover:text-gray-500">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                    </div>

                    <div class="space-y-6">
                        <!-- Campaign Type Filter -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Type</label>
                            <select
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                <option value="">All Types</option>
                                <option value="event">Event</option>
                                <option value="ads">Ads</option>
                                <option value="partner">Partner</option>
                                <option value="social">Social</option>
                                <option value="website">Website</option>
                            </select>
                        </div>

                        <!-- Status Filter -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                            <select
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="expired">Expired</option>
                            </select>
                        </div>

                        <!-- Partner Filter -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Partner</label>
                            <select
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                <option value="">All Partners</option>
                                <option value="ellacy">Ellacy Foundation</option>
                                <option value="agent1">Agent Partner 1</option>
                                <option value="agent2">Agent Partner 2</option>
                            </select>
                        </div>

                        <!-- Region Filter -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Region</label>
                            <select
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                <option value="">All Regions</option>
                                <option value="HN">Hanoi (HN)</option>
                                <option value="SG">Singapore (SG)</option>
                                <option value="US">United States (US)</option>
                            </select>
                        </div>

                        <!-- Date Range -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Date Range</label>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-xs text-gray-500 mb-1">Start Date</label>
                                    <input type="date"
                                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-500 mb-1">End Date</label>
                                    <input type="date"
                                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Drawer Footer -->
                <div class="p-4 border-t flex justify-end space-x-3">
                    <button id="reset-filters"
                        class="px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg">
                        Reset
                    </button>
                    <button id="apply-filters"
                        class="px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors hover:opacity-90"
                        style="background-color: #d82128;">
                        Apply Filters
                    </button>
                </div>
            </div>

            <!-- Search and Actions -->
            <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="relative">
                            <i data-lucide="search"
                                class="w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            <input type="text" placeholder="Search campaigns or tokens..."
                                class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 w-80">
                        </div>
                        <button id="filter-toggle"
                            class="inline-flex items-center px-4 py-2 border border-red-400 text-red-400 rounded-lg hover:bg-red-50 transition-colors">
                            <i data-lucide="filter" class="w-4 h-4 mr-2"></i>
                            Filter
                        </button>
                    </div>

                    <div class="flex items-center space-x-3">
                        <!-- Bulk Actions -->
                        <button
                            class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50">
                            <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                            Export CSV
                        </button>

                        <button onclick="openCreateCampaignModal()"
                            class="inline-flex items-center px-4 py-2 text-white rounded-lg text-sm font-medium hover:bg-red-700"
                            style="background-color: #d82128;">
                            <i data-lucide="plus" class="w-4 h-4 mr-2"></i>
                            New Campaign
                        </button>
                    </div>
                </div>
            </div>

            <!-- Campaign Table -->
            <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    <input type="checkbox" class="rounded border-gray-300">
                                </th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">
                                    Name
                                    <i data-lucide="arrow-up-down" class="w-4 h-4 inline ml-1"></i>
                                </th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Type</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Token</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Partner</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Status</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Period</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Clicks</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Signups</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Conv.%</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <!-- Sample Campaign 1 -->
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="checkbox" class="rounded border-gray-300">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button onclick="openCampaignDetail('spring2025')"
                                        class="text-sm font-medium hover:underline" style="color: #d82128;">
                                        Spring 2025 Education Fair
                                    </button>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        Event
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono">
                                    SPR25EDU
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    Ellacy Foundation
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        Active
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                    Mar 1 - May 31, 2025
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    1,247
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    89
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    7.1%
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <div class="flex items-center space-x-2">
                                        <button onclick="openCampaignDetail('spring2025')" class="hover:text-red-900"
                                            style="color: #d82128;" title="View Details">
                                            <i data-lucide="eye" class="w-4 h-4"></i>
                                        </button>
                                        <button onclick="editCampaign('spring2025')"
                                            class="text-gray-600 hover:text-gray-900" title="Edit">
                                            <i data-lucide="edit" class="w-4 h-4"></i>
                                        </button>
                                        <button onclick="generateQR('spring2025')"
                                            class="text-blue-600 hover:text-blue-900" title="Generate QR">
                                            <i data-lucide="qr-code" class="w-4 h-4"></i>
                                        </button>
                                        <button onclick="pauseCampaign('spring2025')"
                                            class="text-yellow-600 hover:text-yellow-900" title="Pause">
                                            <i data-lucide="pause" class="w-4 h-4"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>

                            <!-- Sample Campaign 2 -->
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="checkbox" class="rounded border-gray-300">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button onclick="openCampaignDetail('social2025')"
                                        class="text-sm font-medium hover:underline" style="color: #d82128;">
                                        Social Media Campaign Q1
                                    </button>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                                        Social
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono">
                                    SOC25Q1
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    -
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        Active
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                    Jan 1 - Mar 31, 2025
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    2,156
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    134
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    6.2%
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <div class="flex items-center space-x-2">
                                        <button onclick="openCampaignDetail('social2025')" class="hover:text-red-900"
                                            style="color: #d82128;" title="View Details">
                                            <i data-lucide="eye" class="w-4 h-4"></i>
                                        </button>
                                        <button onclick="editCampaign('social2025')"
                                            class="text-gray-600 hover:text-gray-900" title="Edit">
                                            <i data-lucide="edit" class="w-4 h-4"></i>
                                        </button>
                                        <button onclick="generateQR('social2025')"
                                            class="text-blue-600 hover:text-blue-900" title="Generate QR">
                                            <i data-lucide="qr-code" class="w-4 h-4"></i>
                                        </button>
                                        <button onclick="pauseCampaign('social2025')"
                                            class="text-yellow-600 hover:text-yellow-900" title="Pause">
                                            <i data-lucide="pause" class="w-4 h-4"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>

                            <!-- Sample Campaign 3 -->
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="checkbox" class="rounded border-gray-300">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button onclick="openCampaignDetail('partner2024')"
                                        class="text-sm font-medium hover:underline" style="color: #d82128;">
                                        Partner Referral Program
                                    </button>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        Partner
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono">
                                    PTR24REF
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    Agent Partner 1
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span
                                        class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"
                                        style="background-color: #fef2f2; color: #d82128;">
                                        Expired
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                    Oct 1 - Dec 31, 2024
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    856
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    67
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                    7.8%
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <div class="flex items-center space-x-2">
                                        <button onclick="openCampaignDetail('partner2024')" class="hover:text-red-900"
                                            style="color: #d82128;" title="View Details">
                                            <i data-lucide="eye" class="w-4 h-4"></i>
                                        </button>
                                        <button onclick="editCampaign('partner2024')"
                                            class="text-gray-600 hover:text-gray-900" title="Edit">
                                            <i data-lucide="edit" class="w-4 h-4"></i>
                                        </button>
                                        <button onclick="generateQR('partner2024')"
                                            class="text-blue-600 hover:text-blue-900" title="Generate QR">
                                            <i data-lucide="qr-code" class="w-4 h-4"></i>
                                        </button>
                                        <button onclick="archiveCampaign('partner2024')"
                                            class="text-red-600 hover:text-red-900" title="Archive">
                                            <i data-lucide="archive" class="w-4 h-4"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
                    <div class="flex-1 flex justify-between sm:hidden">
                        <button
                            class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                            Previous
                        </button>
                        <button
                            class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                            Next
                        </button>
                    </div>
                    <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                        <div>
                            <p class="text-sm text-gray-700">
                                Showing <span class="font-medium">1</span> to <span class="font-medium">3</span> of
                                <span class="font-medium">3</span> results
                            </p>
                        </div>
                        <div>
                            <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px"
                                aria-label="Pagination">
                                <button
                                    class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                    <i data-lucide="chevron-left" class="w-5 h-5"></i>
                                </button>
                                <button
                                    class="relative inline-flex items-center px-4 py-2 border text-sm font-medium text-white"
                                    style="background-color: #d82128; border-color: #d82128;">
                                    1
                                </button>
                                <button
                                    class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                    <i data-lucide="chevron-right" class="w-5 h-5"></i>
                                </button>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    </div>

    <!-- Create/Edit Campaign Modal -->
    <div id="campaignModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-medium text-gray-900" id="modalTitle">Create New Campaign</h3>
                    <button onclick="closeCampaignModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>

                <form class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Campaign Name</label>
                            <input type="text"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500"
                                placeholder="Enter campaign name">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Type</label>
                            <select
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                <option value="event">Event</option>
                                <option value="ads">Ads</option>
                                <option value="partner">Partner</option>
                                <option value="social">Social</option>
                                <option value="website">Website</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Partner (Optional)</label>
                            <select
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                <option value="">No Partner</option>
                                <option value="ellacy">Ellacy Foundation</option>
                                <option value="agent1">Agent Partner 1</option>
                                <option value="agent2">Agent Partner 2</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                            <select
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Start Date</label>
                            <input type="date"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">End Date</label>
                            <input type="date"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Default Redirect URL</label>
                            <input type="url"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500"
                                placeholder="https://applylead-uat.innotech-vn.com/register">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Campaign</label>
                            <input type="text"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500"
                                placeholder="spring2025">
                        </div>
                    </div>





                    <!-- QR Style Settings -->
                    <div class="border-t pt-4">
                        <h4 class="text-md font-medium text-gray-900 mb-3">QR Code Settings</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Size</label>
                                <select
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                    <option value="200">200x200</option>
                                    <option value="300">300x300</option>
                                    <option value="400">400x400</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Margin</label>
                                <select
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                                    <option value="0">No Margin</option>
                                    <option value="10">Small</option>
                                    <option value="20">Medium</option>
                                    <option value="30">Large</option>
                                </select>
                            </div>
                            <div class="flex items-center pt-6">
                                <input type="checkbox" class="rounded border-gray-300 text-red-600 focus:ring-red-500">
                                <label class="ml-2 text-sm text-gray-700">Include Logo Overlay</label>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" onclick="closeCampaignModal()"
                            class="px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50">
                            Cancel
                        </button>
                        <button type="submit"
                            class="px-4 py-2 text-white rounded-lg text-sm font-medium hover:bg-red-700"
                            style="background-color: #d82128;">
                            Create Campaign
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- QR Code Modal -->
    <div id="qrModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-medium text-gray-900" id="qrModalTitle">QR Code Generator</h3>
                    <button onclick="closeQRModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- QR Code Display -->
                    <div class="text-center">
                        <h4 class="text-md font-medium text-gray-900 mb-4">QR Code Preview</h4>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 bg-gray-50">
                            <div
                                class="w-48 h-48 bg-white mx-auto mb-4 flex items-center justify-center border rounded-lg shadow-sm">
                                <!-- QR Code placeholder - in real implementation, this would be generated dynamically -->
                                <div class="w-40 h-40 bg-black" style="
                            background-image: 
                                repeating-linear-gradient(0deg, transparent, transparent 4px, black 4px, black 8px),
                                repeating-linear-gradient(90deg, transparent, transparent 4px, black 4px, black 8px);
                            background-size: 8px 8px;
                        "></div>
                            </div>
                            <p class="text-sm text-gray-600">Campaign Token: <span id="qrToken"
                                    class="font-mono font-semibold">SPR25EDU</span></p>
                        </div>
                    </div>

                    <!-- QR Code Details & Actions -->
                    <div>
                        <h4 class="text-md font-medium text-gray-900 mb-4">Campaign URL</h4>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Short URL</label>
                                <div class="flex items-center space-x-2">
                                    <input type="text" id="qrUrl" readonly
                                        class="flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm font-mono">
                                    <button onclick="copyToClipboard('qrUrl')"
                                        class="px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"
                                        title="Copy URL">
                                        <i data-lucide="copy" class="w-4 h-4"></i>
                                    </button>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">QR Code Settings</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <select class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                        <option>200x200 px</option>
                                        <option>300x300 px</option>
                                        <option>400x400 px</option>
                                        <option>500x500 px</option>
                                    </select>
                                    <select class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                        <option>PNG Format</option>
                                        <option>SVG Format</option>
                                        <option>PDF Format</option>
                                    </select>
                                </div>
                            </div>

                            <div class="flex items-center space-x-2">
                                <input type="checkbox" id="includeLogo"
                                    class="rounded border-gray-300 text-red-600 focus:ring-red-500">
                                <label for="includeLogo" class="text-sm text-gray-700">Include ApplyLead logo in
                                    center</label>
                            </div>
                        </div>

                        <!-- Download Actions -->
                        <div class="mt-6 space-y-3">
                            <button onclick="downloadQR('png')"
                                class="w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50">
                                <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                                Download PNG
                            </button>
                            <button onclick="downloadQR('svg')"
                                class="w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50">
                                <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                                Download SVG
                            </button>
                            <button onclick="downloadQR('pdf')"
                                class="w-full flex items-center justify-center px-4 py-2 text-white rounded-lg text-sm font-medium hover:bg-red-700"
                                style="background-color: #d82128;">
                                <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                                Download PDF (Print Ready)
                            </button>
                        </div>

                        <!-- Share Options -->
                        <div class="mt-6 pt-4 border-t border-gray-200">
                            <h5 class="text-sm font-medium text-gray-900 mb-3">Share QR Code</h5>
                            <div class="flex space-x-2">
                                <button onclick="shareQR('email')"
                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50">
                                    <i data-lucide="mail" class="w-4 h-4 mx-auto"></i>
                                </button>
                                <button onclick="shareQR('whatsapp')"
                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50">
                                    <i data-lucide="message-circle" class="w-4 h-4 mx-auto"></i>
                                </button>
                                <button onclick="shareQR('social')"
                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50">
                                    <i data-lucide="share-2" class="w-4 h-4 mx-auto"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex justify-end space-x-3 pt-6 mt-6 border-t border-gray-200">
                    <button onclick="closeQRModal()"
                        class="px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50">
                        Close
                    </button>
                    <button onclick="regenerateQR()"
                        class="px-4 py-2 text-white rounded-lg text-sm font-medium hover:bg-red-700"
                        style="background-color: #d82128;">
                        Regenerate QR Code
                    </button>
                </div>
                <!-- Modal Footer: Open Details bottom-left -->
                <div class="pt-4 mt-6 border-t border-gray-200">
                    <a href="Agency-Campaign-Detail.html"
                        class="inline-flex items-center px-3 py-2 text-sm font-medium text-white rounded-lg transition-colors hover:opacity-90"
                        style="background-color: #d82128;">
                        <i data-lucide="external-link" class="w-4 h-4 mr-1"></i>
                        Open Details
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Campaign Detail Modal -->
    <div id="campaignDetailModal"
        class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-10 mx-auto p-5 border w-11/12 md:w-5/6 lg:w-4/5 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex items-center justify-between mb-4">
                    <h3 id="detailModalTitle" class="text-lg font-medium text-gray-900">Campaign Details</h3>
                    <button onclick="closeCampaignDetailModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>

                <!-- Campaign Summary Header -->
                <div class="bg-gray-50 rounded-lg p-4 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <p class="text-sm text-gray-600">Campaign Token</p>
                            <p class="font-mono font-semibold text-lg" id="detailToken">SPR25EDU</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">Status</p>
                            <span id="detailStatus"
                                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                Active
                            </span>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">Campaign Period</p>
                            <p class="font-medium" id="detailPeriod">Mar 1 - May 31, 2025</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">Partner</p>
                            <p class="font-medium" id="detailPartner">Ellacy Foundation</p>
                        </div>
                    </div>
                </div>

                <!-- Tab Navigation -->
                <div class="border-b border-gray-200">
                    <nav class="-mb-px flex space-x-8">
                        <button onclick="switchDetailTab('overview')"
                            class="detail-tab-btn border-red-500 text-red-600 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm">
                            Overview
                        </button>
                        <button onclick="switchDetailTab('analytics')"
                            class="detail-tab-btn border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm">
                            Analytics
                        </button>
                        <button onclick="switchDetailTab('links')"
                            class="detail-tab-btn border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm">
                            Links & UTM
                        </button>
                        <button onclick="switchDetailTab('leads')"
                            class="detail-tab-btn border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm">
                            Leads
                        </button>
                        <button onclick="switchDetailTab('settings')"
                            class="detail-tab-btn border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm">
                            Settings
                        </button>
                    </nav>
                </div>

                <!-- Tab Content -->
                <div class="mt-6">
                    <!-- Overview Tab -->
                    <div id="overview-tab" class="detail-tab-content">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <!-- KPI Cards -->
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <i data-lucide="mouse-pointer-click" class="w-8 h-8 text-blue-600"></i>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-blue-600">Total Clicks</p>
                                        <p class="text-2xl font-bold text-blue-900" id="totalClicks">1,247</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <i data-lucide="user-plus" class="w-8 h-8 text-green-600"></i>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-green-600">Signups</p>
                                        <p class="text-2xl font-bold text-green-900" id="totalSignups">89</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <i data-lucide="trending-up" class="w-8 h-8 text-purple-600"></i>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-purple-600">Conversion Rate</p>
                                        <p class="text-2xl font-bold text-purple-900" id="conversionRate">7.1%</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Activity -->
                        <div class="mt-6 bg-white border rounded-lg p-6">
                            <h4 class="text-lg font-medium text-gray-900 mb-4">Recent Activity</h4>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between py-2 border-b border-gray-100">
                                    <div class="flex items-center">
                                        <div class="w-2 h-2 bg-green-500 rounded-full mr-3"></div>
                                        <span class="text-sm text-gray-900">New signup from Facebook campaign</span>
                                    </div>
                                    <span class="text-xs text-gray-500">2 hours ago</span>
                                </div>
                                <div class="flex items-center justify-between py-2 border-b border-gray-100">
                                    <div class="flex items-center">
                                        <div class="w-2 h-2 bg-blue-500 rounded-full mr-3"></div>
                                        <span class="text-sm text-gray-900">QR code scanned 15 times</span>
                                    </div>
                                    <span class="text-xs text-gray-500">4 hours ago</span>
                                </div>
                                <div class="flex items-center justify-between py-2">
                                    <div class="flex items-center">
                                        <div class="w-2 h-2 bg-yellow-500 rounded-full mr-3"></div>
                                        <span class="text-sm text-gray-900">Campaign shared on social media</span>
                                    </div>
                                    <span class="text-xs text-gray-500">1 day ago</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Analytics Tab -->
                    <div id="analytics-tab" class="detail-tab-content hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="bg-white border rounded-lg p-6">
                                <h4 class="text-lg font-medium text-gray-900 mb-4">Click Sources</h4>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <span class="text-sm text-gray-600">Facebook Ads</span>
                                        <div class="flex items-center">
                                            <div class="w-24 bg-gray-200 rounded-full h-2 mr-3">
                                                <div class="bg-blue-600 h-2 rounded-full" style="width: 45%"></div>
                                            </div>
                                            <span class="text-sm font-medium">561 (45%)</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-sm text-gray-600">QR Code Scans</span>
                                        <div class="flex items-center">
                                            <div class="w-24 bg-gray-200 rounded-full h-2 mr-3">
                                                <div class="bg-green-600 h-2 rounded-full" style="width: 30%"></div>
                                            </div>
                                            <span class="text-sm font-medium">374 (30%)</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-sm text-gray-600">Direct Link</span>
                                        <div class="flex items-center">
                                            <div class="w-24 bg-gray-200 rounded-full h-2 mr-3">
                                                <div class="bg-purple-600 h-2 rounded-full" style="width: 25%"></div>
                                            </div>
                                            <span class="text-sm font-medium">312 (25%)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white border rounded-lg p-6">
                                <h4 class="text-lg font-medium text-gray-900 mb-4">Performance Metrics</h4>
                                <div class="space-y-4">
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600">Average Daily Clicks</span>
                                        <span class="text-sm font-medium">42</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600">Peak Hour</span>
                                        <span class="text-sm font-medium">2:00 PM - 3:00 PM</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600">Best Performing Day</span>
                                        <span class="text-sm font-medium">Tuesday</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600">Mobile vs Desktop</span>
                                        <span class="text-sm font-medium">68% / 32%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Links Tab -->
                    <div id="links-tab" class="detail-tab-content hidden">
                        <div class="space-y-6">
                            <div>
                                <h4 class="text-lg font-medium text-gray-900 mb-4">Campaign URLs</h4>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Base Short
                                            URL</label>
                                        <div class="flex items-center space-x-2">
                                            <input type="text" value="https://apply.ly/SPR25EDU" readonly
                                                class="flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm font-mono">
                                            <button onclick="copyToClipboard('baseUrl')"
                                                class="px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                                <i data-lucide="copy" class="w-4 h-4"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Facebook
                                            Campaign</label>
                                        <div class="flex items-center space-x-2">
                                            <input type="text"
                                                value="https://apply.ly/SPR25EDU?utm_source=facebook&utm_medium=ads"
                                                readonly
                                                class="flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm">
                                            <button onclick="copyToClipboard('fbUrl')"
                                                class="px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                                <i data-lucide="copy" class="w-4 h-4"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Leads Tab -->
                    <div id="leads-tab" class="detail-tab-content hidden">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-lg font-medium text-gray-900">Campaign Leads</h4>
                            <div class="text-sm text-gray-500">89 total leads</div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Name</th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Email</th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Source</th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Status</th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Date</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Nguyen
                                            Van A</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            nguyenvana@email.com</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Facebook</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span
                                                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                Applied
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025-01-15</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Tran
                                            Thi B</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">tranthib@email.com
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">QR Code</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span
                                                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                                In Progress
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025-01-14</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Settings Tab -->
                    <div id="settings-tab" class="detail-tab-content hidden">
                        <div class="space-y-6">
                            <div>
                                <h4 class="text-lg font-medium text-gray-900 mb-4">Campaign Settings</h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Campaign
                                            Name</label>
                                        <input type="text" value="Spring 2025 Education Fair"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                            <option selected>Active</option>
                                            <option>Inactive</option>
                                            <option>Paused</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="flex justify-end space-x-3 pt-4 border-t border-gray-200">
                                <button
                                    class="px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50">
                                    Cancel
                                </button>
                                <button class="px-4 py-2 text-white rounded-lg text-sm font-medium hover:bg-red-700"
                                    style="background-color: #d82128;">
                                    Save Changes
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Modal Footer: Open Details bottom-left -->
                <div class="pt-4 mt-6 border-t border-gray-200">
                    <a href="Agency-Campaign-Detail.html" class="inline-flex items-center px-3 py-2 text-sm font-medium text-white rounded-lg transition-colors hover:opacity-90" style="background-color: #d82128;">
                        <i data-lucide="external-link" class="w-4 h-4 mr-1"></i>
                        Open details
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Assistant Floating Button -->
    <div id="ai-assistant" class="fixed bottom-6 right-6" style="z-index: 10000;">
        <button id="ai-toggle"
            class="w-14 h-14 rounded-full text-white shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center"
            style="background-color: #d82128;">
            <i data-lucide="message-circle" class="w-6 h-6"></i>
        </button>

        <!-- AI Chat Panel -->
        <div id="ai-chat-panel"
            class="hidden absolute bottom-16 right-0 w-80 h-96 bg-white rounded-lg shadow-xl border border-gray-200">
            <!-- Chat Header -->
            <div class="flex items-center justify-between p-4 border-b border-gray-200"
                style="background-color: #d82128;">
                <div class="flex items-center">
                    <div class="w-8 h-8 rounded-full bg-red-100 flex items-center justify-center mr-3">
                        <i data-lucide="bot" class="w-4 h-4" style="color: #d82128;"></i>
                    </div>
                    <div>
                        <h3 class="text-sm font-medium text-white">AI Assistant</h3>
                        <p class="text-xs text-red-100">Campaign Analytics Expert</p>
                    </div>
                </div>
                <button id="ai-close" class="text-red-100 hover:text-white">
                    <i data-lucide="x" class="w-4 h-4"></i>
                </button>
            </div>

            <!-- Chat Messages -->
            <div id="chat-messages" class="flex-1 overflow-y-auto p-4 h-64">
                <div class="mb-4">
                    <div class="flex items-start">
                        <div class="w-6 h-6 rounded-full bg-red-100 flex items-center justify-center mr-2 mt-1">
                            <i data-lucide="bot" class="w-3 h-3" style="color: #d82128;"></i>
                        </div>
                        <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                            <p class="text-sm text-gray-800">Hello! I can help you optimize campaigns, analyze
                                performance metrics, and provide insights on QR code usage and UTM tracking. What would
                                you like to know?</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Input -->
            <div class="p-4 border-t border-gray-200">
                <div class="flex items-center">
                    <input type="text" id="chat-input" placeholder="Ask about campaigns..."
                        class="flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500">
                    <button id="send-message" class="ml-2 p-2 rounded-lg text-white" style="background-color: #d82128;">
                        <i data-lucide="send" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Campaign Modal Functions
        function openCreateCampaignModal() {
            document.getElementById('modalTitle').textContent = 'Create New Campaign';
            document.getElementById('campaignModal').classList.remove('hidden');
        }

        function closeCampaignModal() {
            document.getElementById('campaignModal').classList.add('hidden');
        }

        function editCampaign(token) {
            document.getElementById('modalTitle').textContent = 'Edit Campaign';
            document.getElementById('campaignModal').classList.remove('hidden');
        }
        // Handle logout
        function handleLogout() {
            window.location.href = '../../login.html';
        }
        // Campaign Actions
        function generateQR(token) {
            // Show QR code modal
            document.getElementById('qrModalTitle').textContent = `QR Code - ${token}`;
            document.getElementById('qrToken').textContent = token;
            document.getElementById('qrUrl').value = `https://apply.ly/${token}`;
            document.getElementById('qrModal').classList.remove('hidden');
        }

        function pauseCampaign(token) {
            alert(`Pausing campaign: ${token}`);
        }

        function archiveCampaign(token) {
            alert(`Archiving campaign: ${token}`);
        }

        function openCampaignDetail(token) {
            // Populate campaign detail modal with data
            document.getElementById('detailModalTitle').textContent = `Campaign Details - ${token}`;
            document.getElementById('detailToken').textContent = token;

            // Set campaign data based on token (in real app, this would fetch from API)
            const campaignData = getCampaignData(token);
            populateCampaignDetail(campaignData);

            // Show the modal
            document.getElementById('campaignDetailModal').classList.remove('hidden');
        }

        // QR Modal Functions
        function closeQRModal() {
            document.getElementById('qrModal').classList.add('hidden');
        }

        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            element.select();
            element.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(element.value).then(() => {
                // Show temporary success message
                const button = event.target.closest('button');
                const originalIcon = button.innerHTML;
                button.innerHTML = '<i data-lucide="check" class="w-4 h-4"></i>';
                button.classList.add('text-green-600');

                setTimeout(() => {
                    button.innerHTML = originalIcon;
                    button.classList.remove('text-green-600');
                    lucide.createIcons();
                }, 2000);
            });
        }

        function downloadQR(format) {
            const token = document.getElementById('qrToken').textContent;
            alert(`Downloading QR code for ${token} in ${format.toUpperCase()} format`);
            // In real implementation, this would trigger actual file download
        }

        function shareQR(platform) {
            const token = document.getElementById('qrToken').textContent;
            const url = document.getElementById('qrUrl').value;

            switch (platform) {
                case 'email':
                    window.open(`mailto:?subject=Campaign QR Code - ${token}&body=Check out this campaign: ${url}`);
                    break;
                case 'whatsapp':
                    window.open(`https://wa.me/?text=Campaign QR Code - ${token}: ${url}`);
                    break;
                case 'social':
                    navigator.share({
                        title: `Campaign QR Code - ${token}`,
                        text: 'Check out this campaign',
                        url: url
                    }).catch(() => {
                        // Fallback for browsers that don't support Web Share API
                        copyToClipboard('qrUrl');
                    });
                    break;
            }
        }

        function regenerateQR() {
            const token = document.getElementById('qrToken').textContent;
            alert(`Regenerating QR code for campaign: ${token}`);
            // In real implementation, this would regenerate the QR code with new settings
        }

        // Campaign Detail Modal Functions
        function closeCampaignDetailModal() {
            document.getElementById('campaignDetailModal').classList.add('hidden');
        }

        function switchDetailTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.detail-tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });

            // Show selected tab content
            document.getElementById(tabName + '-tab').classList.remove('hidden');

            // Update tab button styles
            document.querySelectorAll('.detail-tab-btn').forEach(btn => {
                btn.classList.remove('border-red-500', 'text-red-600');
                btn.classList.add('border-transparent', 'text-gray-500');
            });

            // Highlight active tab
            event.target.classList.remove('border-transparent', 'text-gray-500');
            event.target.classList.add('border-red-500', 'text-red-600');
        }

        function getCampaignData(token) {
            // Mock data - in real app, this would fetch from API
            const campaigns = {
                'SPR25EDU': {
                    name: 'Spring 2025 Education Fair',
                    status: 'Active',
                    period: 'Mar 1 - May 31, 2025',
                    partner: 'Ellacy Foundation',
                    clicks: '1,247',
                    signups: '89',
                    conversion: '7.1%'
                },
                'SOC25Q1': {
                    name: 'Social Media Campaign Q1',
                    status: 'Active',
                    period: 'Jan 1 - Mar 31, 2025',
                    partner: '-',
                    clicks: '2,156',
                    signups: '134',
                    conversion: '6.2%'
                },
                'PTR24REF': {
                    name: 'Partner Referral Program',
                    status: 'Expired',
                    period: 'Oct 1 - Dec 31, 2024',
                    partner: 'Agent Partner 1',
                    clicks: '856',
                    signups: '67',
                    conversion: '7.8%'
                }
            };
            return campaigns[token] || campaigns['SPR25EDU'];
        }

        function populateCampaignDetail(data) {
            // Update summary header
            document.getElementById('detailStatus').textContent = data.status;
            document.getElementById('detailStatus').className = `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${data.status === 'Active' ? 'bg-green-100 text-green-800' :
                data.status === 'Expired' ? 'bg-red-100 text-red-800' :
                    'bg-gray-100 text-gray-800'
                }`;
            document.getElementById('detailPeriod').textContent = data.period;
            document.getElementById('detailPartner').textContent = data.partner;

            // Update KPI cards
            document.getElementById('totalClicks').textContent = data.clicks;
            document.getElementById('totalSignups').textContent = data.signups;
            document.getElementById('conversionRate').textContent = data.conversion;
        }

        // AI Assistant Functions
        document.getElementById('ai-toggle').addEventListener('click', function () {
            const panel = document.getElementById('ai-chat-panel');
            panel.classList.toggle('hidden');
        });

        document.getElementById('ai-close').addEventListener('click', function () {
            document.getElementById('ai-chat-panel').classList.add('hidden');
        });

        document.getElementById('send-message').addEventListener('click', function () {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (message) {
                addChatMessage(message, true);
                input.value = '';

                // Simulate AI response
                setTimeout(() => {
                    addChatMessage('I can help you analyze campaign performance, optimize conversion rates, and provide insights on your marketing metrics. What specific aspect would you like to explore?', false);
                }, 1000);
            }
        });

        document.getElementById('chat-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                document.getElementById('send-message').click();
            }
        });

        function addChatMessage(message, isUser) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'mb-4';

            if (isUser) {
                messageDiv.innerHTML = `
            <div class="flex items-start justify-end">
                <div class="rounded-lg p-3 max-w-xs text-white" style="background-color: #d82128;">
                    <p class="text-sm">${message}</p>
                </div>
            </div>
        `;
            } else {
                messageDiv.innerHTML = `
            <div class="flex items-start">
                <div class="w-6 h-6 rounded-full bg-red-100 flex items-center justify-center mr-2 mt-1">
                    <i data-lucide="bot" class="w-3 h-3" style="color: #d82128;"></i>
                </div>
                <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                    <p class="text-sm text-gray-800">${message}</p>
                </div>
            </div>
        `;
            }

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;

            // Re-initialize icons for new content
            lucide.createIcons();
        }
    </script>

    <script>
        // Toggle profile dropdown
        const profileMenuButton = document.getElementById('profile-menu');
        const profileDropdown = document.getElementById('profile-dropdown');

        profileMenuButton.addEventListener('click', (e) => {
            e.stopPropagation();
            const isExpanded = profileMenuButton.getAttribute('aria-expanded') === 'true';
            profileMenuButton.setAttribute('aria-expanded', !isExpanded);
            profileDropdown.classList.toggle('hidden', isExpanded);
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!profileMenuButton.contains(e.target) && !profileDropdown.contains(e.target)) {
                profileMenuButton.setAttribute('aria-expanded', 'false');
                profileDropdown.classList.add('hidden');
            }
        });

        // Close dropdown when clicking on a dropdown item
        const dropdownItems = profileDropdown.querySelectorAll('a');
        dropdownItems.forEach(item => {
            item.addEventListener('click', () => {
                profileMenuButton.setAttribute('aria-expanded', 'false');
                profileDropdown.classList.add('hidden');
            });
        });

        // Handle logout
        function handleLogout() {
            // Add your logout logic here
            console.log('Logging out...');
            // window.location.href = '/logout';
        }
    </script>
    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Filter Drawer Functionality
        const filterToggle = document.getElementById('filter-toggle');
        const filterDrawer = document.getElementById('filter-drawer');
        const filterBackdrop = document.getElementById('filter-backdrop');
        const closeFilter = document.getElementById('close-filter');
        const applyFiltersBtn = document.getElementById('apply-filters');
        const resetFiltersBtn = document.getElementById('reset-filters');

        // Open drawer
        function openFilterDrawer() {
            filterDrawer.classList.remove('translate-x-full');
            filterBackdrop.classList.remove('opacity-0', 'pointer-events-none');
            filterBackdrop.classList.add('opacity-100');
            document.body.style.overflow = 'hidden';
        }

        // Close drawer
        function closeFilterDrawer() {
            filterDrawer.classList.add('translate-x-full');
            filterBackdrop.classList.add('opacity-0', 'pointer-events-none');
            filterBackdrop.classList.remove('opacity-100');
            document.body.style.overflow = '';
        }

        // Event Listeners
        if (filterToggle) filterToggle.addEventListener('click', openFilterDrawer);
        if (closeFilter) closeFilter.addEventListener('click', closeFilterDrawer);
        if (filterBackdrop) filterBackdrop.addEventListener('click', closeFilterDrawer);

        // Close with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeFilterDrawer();
            }
        });

        // Apply filters
        if (applyFiltersBtn) {
            applyFiltersBtn.addEventListener('click', () => {
                // Here you would typically apply the filters to your data
                closeFilterDrawer();
                showToast('Filters applied successfully', 'success');
            });
        }

        // Reset filters
        if (resetFiltersBtn) {
            resetFiltersBtn.addEventListener('click', () => {
                const selects = filterDrawer.querySelectorAll('select');
                const inputs = filterDrawer.querySelectorAll('input[type="date"]');

                selects.forEach(select => {
                    select.selectedIndex = 0; // Reset to first option
                });

                inputs.forEach(input => {
                    input.value = ''; // Clear date inputs
                });

                // Here you would typically reset any filtered data
                showToast('Filters reset', 'info');
            });
        }

        // Toast notification function
        function showToast(message, type = 'info') {
            // You can implement a toast notification here if needed
            console.log(`${type.toUpperCase()}: ${message}`);
        }
    </script>
</body>

</html>